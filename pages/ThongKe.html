<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Th·ªëng k√™ ng∆∞·ªùi d√πng & v√© th√°ng | CineTicket</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      .h {
        height: 100px;
      }
      .f {
        height: 100px;
      }
      .list-inline-item {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 50px;
        padding: 0 7px;
        text-align: center;
        width: auto;
      }
      .signup {
        color: white;
      }
      .login {
        color: white;
        display: inline-flex;
        padding: 10px 25px;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
        border: 1px solid #fff;
      }
      .signup:hover {
        color: #fcc434;
        text-shadow: 5px 5px 10px white;
      }
      .login:hover {
        background: #fcc434;
        box-shadow: 5px 5px 10px white;
        cursor: pointer;
        color: white;
        border: none;
      }

      h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #333;
      }

      .year-buttons {
        text-align: center;
        margin-bottom: 30px;
      }

      canvas {
        margin: 20px 0;
      }
      .user-icon {
        width: 45px;
        height: 45px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid white;
      }
      .dropdown-menu {
        min-width: 160px;
      }
      .dropdown-item:hover {
        background-color: #198754;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid px-2 px-md-4">
      <div
        class="row sticky-top bg-dark border border-2 border-light align-items-center"
        style="height: 100px"
      >
        <div class="col-12 col-md-1"></div>
        <div class="col-12 col-md-10">
          <div class="row align-items-center">
            <div class="col-6 col-md-3 d-flex align-items-center">
              <img
                src="../assets/image/login_image/login_logo.png"
                alt="Logo"
                class="img-fluid"
              />
            </div>
            <div class="col-6 col-md-5 d-flex justify-content-center">
              <ul
                class="list-inline d-flex gap-3 flex-wrap justify-content-center mb-0"
              >
                <li class="list-inline-item flex-fill text-center">
                  <a
                    href="../index.html"
                    class="text-decoration-none text-white"
                    >Home</a
                  >
                </li>
                <li class="list-inline-item flex-fill text-center">
                  <a href="#" class="text-decoration-none text-white">About</a>
                </li>
                <li class="list-inline-item flex-fill text-center">
                  <a href="#" class="text-decoration-none text-white"
                    >Contact</a
                  >
                </li>
                <li class="list-inline-item flex-fill text-center">
                  <a href="#" class="text-decoration-none text-white">FAQ</a>
                </li>
              </ul>
            </div>
            <div
              class="col-12 col-md-4 d-flex justify-content-md-end justify-content-center align-items-center mt-2 mt-md-0"
            >
              <div class="dropdown">
                <img
                  src="../assets/image/login_image/avatarAdmin.jpg"
                  alt="User"
                  class="rounded-circle user-icon dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                />
                <ul class="dropdown-menu dropdown-menu-end bg-dark">
                  <li>
                    <a
                      class="dropdown-item text-white"
                      href="../pages/profile.html"
                      >Trang c√° nh√¢n</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item text-white"
                      href="../pages/admin.html"
                      >Qu·∫£n tr·ªã</a
                    >
                  </li>
                  <li><hr class="dropdown-divider bg-light" /></li>
                  <li>
                    <a
                      class="dropdown-item text-white"
                      href="../pages/logout.html"
                      >ƒêƒÉng xu·∫•t</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-1"></div>
      </div>

      <div class="row my-4">
        <div class="col-0 col-md-2"></div>
        <div class="col-12 col-md-8">
          <div class="year-buttons text-center mb-4">
            <div class="btn-group" role="group" aria-label="Ch·ªçn nƒÉm">
              <div class="list-inline-item"><strong>NƒÉm : </strong></div>
              <button class="btn btn-outline-primary" id="2022">2022</button>
              <button class="btn btn-outline-primary" id="2023">2023</button>
              <button class="btn btn-outline-primary" id="2024">2024</button>
              <button class="btn btn-outline-primary" id="2025">2025</button>
            </div>
          </div>
          <div class="border border-2">
            <h2>üë• S·ªë l∆∞·ª£ng ng∆∞·ªùi d√πng ƒë·∫∑t v√© theo th√°ng</h2>
            <canvas id="userChart" height="100"></canvas>
          </div>
          <br /><br />
          <div class="border border-2">
            <h2>üéüÔ∏è S·ªë l∆∞·ª£ng v√© b√°n theo th√°ng</h2>
            <canvas id="ticketChart" height="100"></canvas>
          </div>
        </div>
        <div class="col-0 col-md-2"></div>
      </div>
    </div>

    <script>
      const months = [
        "Th√°ng 1",
        "Th√°ng 2",
        "Th√°ng 3",
        "Th√°ng 4",
        "Th√°ng 5",
        "Th√°ng 6",
        "Th√°ng 7",
        "Th√°ng 8",
        "Th√°ng 9",
        "Th√°ng 10",
        "Th√°ng 11",
        "Th√°ng 12",
      ];

      const DataPerYear = {
        //Kh·ªüi t·∫°o d·ªØ li·ªáu t·ª´ng nƒÉm v√†o t·ª´ ƒëi·ªÉn DataPerYear
        2022: {
          users: [
            1800, 1000, 1300, 1100, 1500, 1900, 1600, 2200, 2500, 1000, 2800,
            2100,
          ],
          tickets: [
            2700, 2800, 2850, 2820, 3900, 3950, 4970, 4580, 4980, 3050, 2030,
            3100,
          ],
        },
        2023: {
          users: [
            1300, 1400, 1450, 1600, 1800, 2000, 2100, 2200, 2300, 2400, 2500,
            2600,
          ],
          tickets: [
            3700, 2800, 3850, 3800, 3900, 3250, 4670, 4580, 4980, 2850, 2630,
            3100,
          ],
        },
        2024: {
          users: [
            1800, 1500, 2300, 3100, 3200, 3000, 2600, 2800, 3500, 2300, 3200,
            3600,
          ],
          tickets: [
            3200, 3800, 3450, 3800, 4500, 4750, 5270, 5120, 4680, 5550, 3630,
            4100,
          ],
        },
        2025: {
          users: [
            2900, 3000, 2300, 1500, 2000, 2100, 2300, 2800, 1900, 2000, 2600,
            1900,
          ],
          tickets: [
            4200, 4800, 5450, 4800, 6500, 6750, 6270, 7120, 4680, 5550, 5630,
            6100,
          ],
        },
      };
      // V·∫Ω bi·ªÉu ƒë·ªì 2D b·∫±ng th∆∞ vi·ªán Canvas
      const userCtx = document.getElementById("userChart").getContext("2d");
      const ticketCtx = document.getElementById("ticketChart").getContext("2d");

      const userChart = new Chart(userCtx, {
        type: "bar", //Lo·∫°i bi·ªÉu ƒë·ªì c·ªôt bar-chart
        data: {
          labels: months, //tr·ª•c th√°ng
          datasets: [
            {
              label: "Ng∆∞·ªùi d√πng m·ªõi",
              data: [],
              backgroundColor: "rgba(54, 162, 235, 0.6)",
              borderColor: "rgba(54, 162, 235, 1)",
              borderWidth: 1,
            },
          ],
        },
        options: {
          responsive: true, //auto co d√£n
          scales: {
            y: {
              beginAtZero: true, //tr·ª•c Y b·∫Øt ƒë·∫ßu t·ª´ 0
              title: {
                display: true, //c√≥ hi·ªÉn th·ªã
                text: "S·ªë ng∆∞·ªùi d√πng", // ti√™u ƒë·ªÅ tr·ª•c Y
              },
            },
          },
        },
      });

      const ticketChart = new Chart(ticketCtx, {
        type: "line", //bi·ªÉu ƒë·ªì d·∫°ng line
        data: {
          labels: months, //tr·ª•c th√°ng
          datasets: [
            {
              label: "V√© b√°n ra",
              data: [],
              fill: true,
              backgroundColor: "rgba(255, 99, 132, 0.2)",
              borderColor: "rgba(255, 99, 132, 1)",
              tension: 0.5, // ƒê·ªô cong c·ªßa ƒë∆∞·ªùng (0 l√† th·∫≥ng, 1 l√† r·∫•t cong)
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "S·ªë v√©",
              },
            },
          },
        },
      });

      // S·ª± ki·ªán click n√∫t ch·ªçn nƒÉm
      $(".year-buttons button").on("click", function () {
        // L·∫•y id c·ªßa t·ª´ng n√∫t
        const year = $(this).attr("id");
        const data = DataPerYear[year];
        // C·∫≠p nh·∫≠t bi·ªÉu ƒë·ªì
        userChart.data.datasets[0].data = data.users;
        userChart.update();

        ticketChart.data.datasets[0].data = data.tickets;
        ticketChart.update();

        // L√†m n·ªïi b·∫≠t n√∫t ƒë∆∞·ª£c ch·ªçn
        // X√≥a m√†u n·ªÅn c√°c n√∫t ch·ªâ ƒë·ªÉ vi·ªÅn ƒë∆∞·ª£c ch·ªçn tr∆∞·ªõc ƒë√≥
        $(".year-buttons button")
          .removeClass("btn-primary")
          .addClass("btn-outline-primary");
        // Th√™m m√†u n·ªÅn v√†o n√∫t ƒë∆∞·ª£c ch·ªçn ti·∫øp theo
        $(this).removeClass("btn-outline-primary").addClass("btn-primary");
      });
    </script>
    <div class="container-fluid px-2 px-md-4">
      <div class="row bg-dark h">
        <div class="col-4 align-content-center">
          <p class="text-white">
            Copyright ¬© 2022 TicketBooker. All rights reserved.
          </p>
        </div>
        <div class="col-4 align-content-center text-center">
          <div>
            <a href="">
              <img
                src="../assets/image/login_image/ph_instagram-logo.svg"
                alt="insta"
              />
            </a>
            <a href="">
              <img
                src="../assets/image/login_image/ri_linkedin-box-fill.svg"
                alt="linkd"
              />
            </a>
            <a href="">
              <img
                src="../assets/image/login_image/mdi_twitter.svg"
                alt="twitter"
              />
            </a>
          </div>
        </div>

        <div class="col-4 align-content-center text-center">
          <div>
            <a href="" class="text-decoration-none text-white m-5"
              >Privacy Policy</a
            >
            <a href="" class="text-decoration-none text-white">Term of Use</a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
