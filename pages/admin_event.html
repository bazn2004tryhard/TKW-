<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Events</title>
    <script src="C:\Users\ADMIN\Desktop\TKW-\assets\javascript\jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="C:\Users\ADMIN\Desktop\TKW-\bootstrap\css\bootstrap.min.css">
    <link rel="stylesheet" href="C:\Users\ADMIN\Desktop\TKW-\assets\css\admin_event.css">
</head>
<body>
    <div class="container py-5">
  <h2 class="text-center mb-4">üé¨ Qu·∫£n tr·ªã S·ª± ki·ªán Phim - H√† N·ªôi</h2>

  <table class="table table-dark table-bordered align-middle text-center">
    <thead class="table-secondary text-dark">
      <tr>
        <th>#</th>
        <th>T√™n phim</th>
        <th>Th·ªÉ lo·∫°i</th>
        <th>Th·ªùi gian</th>
        <th>ƒê·ªãa ƒëi·ªÉm</th>
        <th>Thao t√°c</th>
      </tr>
    </thead>
    <tbody id="film-table-body">
    </tbody>
  </table>

  <h4 class="mt-5 mb-3">‚ûï Th√™m phim m·ªõi</h4>
  <form id="add-film-form" class="row g-3">
    <div class="col-md-6">
      <input type="text" class="form-control" id="film-title" placeholder="T√™n phim" required />
    </div>
    <div class="col-md-6">
      <input type="text" class="form-control" id="film-genre" placeholder="Th·ªÉ lo·∫°i" required />
    </div>
    <div class="col-md-6">
      <input type="datetime-local" class="form-control" id="film-time" required />
    </div>
    <div class="col-md-6">
      <input type="text" class="form-control" id="film-location" placeholder="ƒê·ªãa ƒëi·ªÉm" required />
    </div>
    <div class="col-12">
      <button type="submit" class="btn btn-light">Th√™m s·ª± ki·ªán</button>
    </div>
  </form>
</div>

<script>
  let films = [
    {
      title: "Doraemon: Nobita v√† v√πng ƒë·∫•t l√Ω t∆∞·ªüng",
      genre: "Ho·∫°t h√¨nh",
      time: "2025-05-29T16:00",
      location: "CGV Aeon Mall Long Bi√™n"
    },
    {
      title: "Conan: T√†u ng·∫ßm s·∫Øt m√†u ƒëen",
      genre: "Trinh th√°m",
      time: "2025-05-30T18:30",
      location: "Lotte Cinema H√† N·ªôi Center Point"
    }
  ];

  function renderTable() {
    const tbody = $("#film-table-body");
    tbody.empty();
    films.forEach((film, index) => {
      tbody.append(`
        <tr>
          <td>${index + 1}</td>
          <td>${film.title}</td>
          <td>${film.genre}</td>
          <td>${new Date(film.time).toLocaleString("vi-VN")}</td>
          <td>${film.location}</td>
          <td>
            <button class="btn btn-sm btn-light me-2 edit-btn" data-index="${index}">‚úèÔ∏è</button>
            <button class="btn btn-sm btn-danger delete-btn" data-index="${index}">üóëÔ∏è</button>
          </td>
        </tr>
      `);
    });
  }

  $(document).ready(function () {
    renderTable();

    $("#add-film-form").on("submit", function (e) {
      e.preventDefault();
      const newFilm = {
        title: $("#film-title").val(),
        genre: $("#film-genre").val(),
        time: $("#film-time").val(),
        location: $("#film-location").val()
      };
      films.push(newFilm);
      renderTable();
      this.reset();
    });

    $(document).on("click", ".delete-btn", function () {
      const index = $(this).data("index");
      if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a phim n√†y?")) {
        films.splice(index, 1);
        renderTable();
      }
    });

    $(document).on("click", ".edit-btn", function () {
      const index = $(this).data("index");
      const film = films[index];
      $("#film-title").val(film.title);
      $("#film-genre").val(film.genre);
      $("#film-time").val(film.time);
      $("#film-location").val(film.location);

      films.splice(index, 1);
      renderTable();
    });
  });
</script>
</body>
</html>